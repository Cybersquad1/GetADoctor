@using PagedList.Mvc
@model GetADoctor.Web.Models.Doctors.FilterDoctorsViewModel
@{
    ViewBag.Title = "Search Best";
}

<div class="row top-bottom-padding">
    <div class="page-header new_header">
        <h1>Find and Book</h1>
        @using (Html.BeginForm("SearchBest", "Home", FormMethod.Get))
        {
            <div class="form-inline">
                <div class="form-group">
                    <!--  1 -->
                    <input class="form-control" type="text" name="name" placeholder="Search By Name" maxlength="70" autocomplete="off">
                </div>
                <div class="form-group">
                    <select class="form-control sm-field" name="speciality">
                        <!--  2 -->
                        <option>Select speciality</option>
                        @foreach (var d in Model.Specialities)
                        {
                            <option value=@d.Value> @d.Text  </option>
                        }

                    </select>
                </div>

                <div class="form-group">
                    <!--  3 -->
                    <input class="form-control" type="text" name="search" placeholder="Enter City or ZipCode" maxlength="50" autocomplete="off">
                </div>
                <div class="form-group">
                    <input type="submit" value="Search" class="form-control">
                </div>
            </div>
        }
    </div>

    <hr />
</div>
<div class="row">
    @if (Model.Doctors.Count > 0)
            {
        <div class="container container-striped">
            @foreach (var doctor in Model.Doctors)
            {
                <div class="row">
                    <h3>@Html.ActionLink(doctor.FirstName, "Get", "Doctor", new { id = doctor.DoctorId }, null)</h3>
                    <p>@Html.ActionLink(doctor.Speciality.Name, "Get", "cSpecialities", new { id = doctor.Speciality.Id }, null)</p>
                </div>
            }
        </div>
                @Html.PagedListPager(Model.Doctors, page => Url.Action("All", new { page, city = ViewBag.CityId, speciality = ViewBag.SpecialityId }))
    }
    else
    {
        <h3 class="text-center">
            <span class="label label-default">No result found!</span>
        </h3>
    }
</div>


